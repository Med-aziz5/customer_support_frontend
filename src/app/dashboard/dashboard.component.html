<div class="dashboard-page" *ngIf="!loading">

  <!-- HEADER -->
  <header class="dashboard-header">
    <h3>Welcome </h3>
  </header>

  <!-- STATS GRID -->
  <div class="stats-grid">

    <!-- CLIENT -->
    <ng-container *ngIf="role === 'CLIENT'">
      <div class="stat-card client">
        <div class="card-content">
          <h3>Total Tickets</h3>
          <p class="stat-value">{{ counters['totalTickets'] || 0 }}</p>
          <div class="chart-placeholder">📊</div>
        </div>
      </div>
      <div class="stat-card client">
        <div class="card-content">
          <h3>Average Rating</h3>
          <p class="stat-value">{{ counters['myRating'] || 0 }}</p>
          <div class="chart-placeholder">⭐</div>
        </div>
      </div>
    </ng-container>

    <!-- AGENT -->
    <ng-container *ngIf="role === 'AGENT'">
      <div class="stat-card agent">
        <div class="card-content">
          <h3>Total Tickets Solved</h3>
          <p class="stat-value">{{ counters['mySolvedTickets'] || 0 }}</p>
          <div class="chart-placeholder">✅</div>
        </div>
      </div>
      <div class="stat-card agent">
        <div class="card-content">
          <h3>Average Rating</h3>
          <p class="stat-value">{{ counters['totalSolvedTickets'] || 0 }}</p>
          <div class="chart-placeholder">⭐</div>
        </div>
      </div>
    </ng-container>

    <!-- ADMIN -->
    <ng-container *ngIf="role === 'ADMIN'">
      <div class="stat-card admin">
        <div class="card-content">
          <h3>Total Tickets</h3>
          <p class="stat-value">{{ counters['totalTickets'] || 0 }}</p>
          <div class="chart-placeholder">📊</div>
        </div>
      </div>
      <div class="stat-card admin">
        <div class="card-content">
          <h3>Best Performing Agent</h3>
          <p class="stat-value">{{ stats['bestAgent']?.name || 'N/A' }}</p>
          <div class="chart-placeholder">🏆</div>
        </div>
      </div>
      <div class="stat-card admin">
        <div class="card-content">
          <h3>Worst Performing Agent</h3>
          <p class="stat-value">{{ stats['worstAgent']?.name || 'N/A' }}</p>
          <div class="chart-placeholder">⚠️</div>
        </div>
      </div>
      <div class="stat-card admin">
        <div class="card-content">
          <h3>Best Rated Agent</h3>
          <p class="stat-value">{{ stats['bestRatedAgent']?.name || 'N/A' }}</p>
          <div class="chart-placeholder">⭐</div>
        </div>
      </div>
      <div class="stat-card admin">
        <div class="card-content">
          <h3>Worst Rated Agent</h3>
          <p class="stat-value">{{ stats['worstRatedAgent']?.name || 'N/A' }}</p>
          <div class="chart-placeholder">💔</div>
        </div>
      </div>
    </ng-container>

  </div>
</div>

<div *ngIf="loading" class="loading">Loading dashboard...</div>
<div *ngIf="error" class="error">{{ error }}</div>
